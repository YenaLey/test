import React, { useState } from "react";
import "./App.css";

function App() {
  const questions = [
    {
      question: "당신은 미술관에 방문했습니다. 누구와 함께 왔나요?👥👫",
      options: {
        A: "친구나 가족이랑 함께 관람하러 왔어요.",
        B: "혼자서 조용히 작품을 감상하러 왔어요.",
      },
    },
    {
      question: "미술관에 도착했을 때, 가장 먼저 하고 싶은 것은 무엇인가요?🏛️",
      options: {
        A: "안내 책자를 살펴보며 전시관의 흐름을 계획할래요.",
        B: "자유롭게 돌아다니며 눈길 가는 작품을 즉흥적으로 감상할래요.",
      },
    },
    {
      question: "어떤 종류의 작품이 당신의 눈길을 끌었나요?🖼️👀",
      options: {
        A: "상상력을 자극하는 추상적인 작품이 좋아요.",
        B: "현실을 그대로 표현한 구체적인 작품이 좋아요.",
      },
    },
    {
      question: "저기 도슨트💁‍♀️가 작품을 차례차례 설명하고 있네요!",
      options: {
        A: "도슨트의 자세한 설명을 들어볼래요. 작품을 깊이 있게 이해하고 싶어요.",
        B: "나만의 방식으로 작품을 감상하며, 스스로 느껴보고 싶어요.",
      },
    },
    {
      question: "미술관에서 생각지 못한 감동을 받았어요.🥺 당신의 반응은?",
      options: {
        A: "왜 그런 감정을 느꼈는지 이유를 논리적으로 분석해봐요.",
        B: "그 감정을 마음속에 담아 두고 여운을 음미해요.",
      },
    },
    {
      question: "기념품샵에 왔어요! 볼거리가 많아 보여요 😊🎵",
      options: {
        A: "가격과 품질을 비교하고 신중하게 결정해요.",
        B: "마음에 드는 것이 있으면 바로 구매해요.",
      },
    },
    {
      question:
        "전시를 보고 나오는 길이에요. 이 경험을 어떻게 간직하고 싶나요?📔✍️",
      options: {
        A: "SNS에 후기를 올려 다른 사람들과 공유할래요.",
        B: "조용히 혼자만의 추억으로 간직하고 싶어요.",
      },
    },
    {
      question:
        "친구가 전시가 어땠냐고 물어보네요. 당신은 어떻게 대답할까요?🗣️💬",
      options: {
        A: "작품의 내용이나 작가의 배경 등 흥미로운 정보를 중심으로 설명해요.",
        B: "전시를 통해 느꼈던 감정과 분위기를 중심으로 설명해요.",
      },
    },
  ];

  const [answers, setAnswers] = useState({});
  const [result, setResult] = useState(null);

  const handleOptionChange = (e, index) => {
    setAnswers({ ...answers, [index]: e.target.value });
  };

  const calculateResult = () => {
    if (Object.keys(answers).length !== 8) {
      alert("모든 질문에 답해주세요.");
      return;
    }

    let E = 0,
      I = 0,
      N = 0,
      S = 0,
      F = 0,
      T = 0,
      J = 0,
      P = 0;

    // 질문 번호와 MBTI 지표 매핑
    // 질문 인덱스:
    // 0: E/I
    // 1: J/P
    // 2: N/S
    // 3: N/S
    // 4: T/F
    // 5: J/P
    // 6: E/I
    // 7: T/F

    // E/I
    if (answers[0] === "A") E++;
    else I++;
    if (answers[6] === "A") E++;
    else I++;

    // N/S
    if (answers[2] === "A") N++;
    else S++;
    if (answers[3] === "A") N++;
    else S++;

    // T/F
    if (answers[4] === "A") T++;
    else F++;
    if (answers[7] === "A") T++;
    else F++;

    // J/P
    if (answers[1] === "A") J++;
    else P++;
    if (answers[5] === "A") J++;
    else P++;

    const mbti =
      (E >= I ? "E" : "I") +
      (N >= S ? "N" : "S") +
      (T >= F ? "T" : "F") +
      (J >= P ? "J" : "P");

    let artist = "";
    let description = "";
    let artistMbti = "";

    if (["ENTJ", "ESTJ", "ISTJ", "ISTP"].includes(mbti)) {
      artist = "파블로 피카소";
      artistMbti = "ENTJ, ESTJ, ISTJ, ISTP";
      description = `
        <h3>설명</h3>
        <p>당신은 혁신적이면서도 실용적인 사고로 새로운 방향을 모색하며, 복잡한 문제를 논리적이고 효율적으로 해결하는 능력을 지니고 있습니다. 호기심과 학습 의지로 끊임없이 자신을 발전시키며, 변화와 도전에서 성장 기회를 찾는 것을 중요하게 여깁니다.</p>
        <p>독립적이지만 균형 잡힌 태도로 다양한 의견을 존중하고, 솔직한 소통을 통해 신뢰를 쌓으며 진정성 있는 관계를 형성합니다. 현실적이면서도 다양한 경험을 통해 통찰을 넓히고, 이를 바탕으로 실용적이면서도 창의적인 아이디어를 제안합니다.</p>
        <p>강한 리더십을 발휘해 주변을 동기부여하고, 모두가 각자의 강점을 살릴 수 있는 성과 지향적 환경을 조성하는 데 탁월합니다.</p>
        <h3>장단점</h3>
        <ul>
          <li><strong>긍정적인 영향:</strong> 당신의 독창성과 열정은 주변 사람들에게 깊은 영감을 주며, 참신한 아이디어를 이끌어내는 원동력이 됩니다. 특히 새로운 접근과 혁신적 사고를 통해 문제 해결에 뛰어난 능력을 발휘합니다.</li>
          <li><strong>주의할 점:</strong> 강한 독립적 성향으로 인해 때로는 팀 내에서 갈등이 발생할 수 있습니다. 원활한 협업을 위해 타인의 의견을 경청하고, 다양한 시각을 수용하려는 노력이 필요합니다. 창의적 아이디어를 실현 가능하도록 구체화하여 실질적인 성과를 내는 데 집중한다면, 당신의 잠재력은 더욱 큰 결실을 맺을 것입니다.</li>
        </ul>
        <h3>찰떡궁합 조합</h3>
        <p><strong>르누아르</strong></p>
        <p>피카소 유형은 혁신적이고 목표 지향적인 성향으로, 실용적이면서도 인간적인 접근을 중시하는 르누아르 유형과 균형을 이루며 서로 보완할 수 있습니다. 피카소 유형의 주도적이고 논리적인 성향은 르누아르 유형의 따뜻한 감정 표현과 조화를 이루어 함께 일할 때도 긍정적 시너지를 낼 수 있습니다.</p>
        <h3>상극 조합</h3>
        <p><strong>리히텐</strong></p>
        <p>피카소 유형은 구조와 목표 중심적인 성향이 강한 반면, 리히텐 유형은 자유롭고 변화무쌍하며 즉흥적인 면이 두드러집니다. 이러한 차이로 인해 갈등이 생길 수 있으며, 특히 실질적 목표보다는 경험과 유연한 접근을 선호하는 리히텐 유형과는 충돌할 수 있습니다.</p>
      `;
    } else if (["INFJ", "INFP", "INTJ", "INTP"].includes(mbti)) {
      artist = "빈센트 반 고흐";
      artistMbti = "INFJ, INFP, INTJ, INTP";
      description = `
        <h3>설명</h3>
        <p>당신은 깊은 감성과 독창적인 사고를 통해 삶의 진정한 의미를 추구하며, 자신과 주변 사람들에게 깊은 영감을 줍니다. 삶의 고통과 아름다움을 진지하게 받아들이고, 이를 통해 내면의 성숙함을 키우며 자신만의 독창적 시각을 형성해 나갑니다.</p>
        <p>예술과 자연 속에서 발견한 통찰은 당신에게 큰 에너지가 되어, 삶의 열정과 의미를 더욱 풍성하게 만듭니다. 당신의 진지하면서도 독립적인 시선은 타인에게도 신선한 영감을 주며, 삶의 본질을 탐구하고자 하는 사람들에게 귀감이 됩니다.</p>
        <h3>장단점</h3>
        <ul>
          <li>당신은 오랫동안 사람을 지켜보며 신중하게 관계를 맺기 때문에 처음엔 친해지기 어렵다고 느낄 수 있습니다. 하지만 일단 신뢰가 형성되면 누구보다 진솔하고 깊이 있는 인간관계를 만들어갑니다.</li>
          <li>복잡한 아이디어와 감정을 이해하는 능력 덕분에 독창적인 관점을 제시하며 사람들에게 신뢰와 영감을 줍니다.</li>
          <li>다만, 내면의 생각과 이상에 몰두하다 보면 실용적인 부분이나 일상적 필요를 간과할 수 있습니다. 균형 잡힌 삶을 위해 현실적인 상황도 고려하고, 감정 표현이 어려운 순간에는 타인에게 이해를 구하는 방법을 찾는 것이 좋습니다. 이를 통해 자신의 깊이와 통찰력을 더욱 효과적으로 전달할 수 있을 것입니다.</li>
        </ul>
        <h3>찰떡궁합 조합</h3>
        <p><strong>리히텐</strong></p>
        <p>고흐 유형은 깊은 통찰과 진지한 성찰을 추구하는 반면, 리히텐 유형은 변화와 열정을 통해 활력을 불어넣는 역할을 합니다. 이 두 유형은 서로가 부족한 면을 보완하면서 창의적인 영감을 공유할 수 있습니다. 고흐 유형의 진지함과 리히텐 유형의 활기가 조화를 이루어 새로운 아이디어를 풍성하게 만들어냅니다.</p>
        <h3>상극 조합</h3>
        <p><strong>피카소</strong></p>
        <p>고흐 유형은 독창적이고 내면에 집중하는 반면, 피카소 유형은 실용성과 현실성을 중시합니다. 고흐 유형의 이상적인 성향과 피카소 유형의 목표 지향적인 성향이 서로 충돌할 수 있으며, 특히 깊은 내면의 감정에 공감하는 방식이 서로 다를 수 있어 이해의 어려움이 생길 수 있습니다.</p>
      `;
    } else if (["ENFJ", "ISFJ", "ESFJ", "ISFP"].includes(mbti)) {
      artist = "피에르 오귀스트 르누아르";
      artistMbti = "ENFJ, ISFJ, ESFJ, ISFP";
      description = `
        <h3>설명</h3>
        <p>당신은 따뜻한 마음과 배려심으로 사람들을 편안하게 만드는 존재입니다. 작은 일상에서도 즐거움을 찾으며, 자연과 예술에서 느낀 감동을 함께 나누기를 좋아합니다.</p>
        <p>사람들과 공감대를 잘 형성하고, 힘든 사람들에게 진심 어린 위로를 건넵니다. 어려운 상황도 긍정적으로 극복해 나가며 주변에 밝은 에너지를 전합니다.</p>
        <p>갈등 상황에서도 조화로운 분위기를 위해 노력하고, 팀에서는 모두가 만족할 수 있는 방향으로 조율하는 중재자 역할을 맡곤 합니다. 이런 따뜻한 성향 덕분에 사람들은 당신과 함께 있으면 큰 안도감을 느낍니다.</p>
        <h3>장단점</h3>
        <ul>
          <li>당신은 주변 사람들에게 안정감과 긍정적인 영향을 미치는 따뜻한 성격의 소유자입니다. 공감 능력이 뛰어나 타인의 감정을 잘 이해하고, 어려운 상황에서도 위로와 지원을 아끼지 않으며, 조화로운 분위기를 만들어갑니다.</li>
          <li>그러나 갈등을 피하려는 경향으로 때로는 자신의 의견을 충분히 표현하지 못할 수 있습니다. 또한, 타인의 감정에 너무 몰두해 자신을 돌보는 데 소홀해질 위험이 있으니, 자신의 감정을 솔직하게 표현하고 균형을 잡는 연습이 필요합니다.</li>
        </ul>
        <h3>찰떡궁합 조합</h3>
        <p><strong>피카소</strong></p>
        <p>르누아르 유형은 사람들과 조화를 이루고 친밀한 관계를 중시하며, 피카소 유형의 목표 지향적이고 결단력 있는 태도와 잘 어울립니다. 르누아르 유형의 공감 능력은 피카소 유형이 가진 강력한 추진력과 균형을 이루어 함께 일할 때 높은 성과를 낼 수 있습니다.</p>
        <h3>상극 조합</h3>
        <p><strong>고흐</strong></p>
        <p>르누아르 유형은 관계 중심적이고 현실적이지만, 고흐 유형은 내면 세계에 집중하고 깊이 있는 성찰을 중요시합니다. 이런 성향 차이로 인해 감정의 표현이나 관계 형성 방식에서 의견 차이가 생길 수 있으며, 서로에게 다가가는 방식이 달라 오해가 발생할 수 있습니다.</p>
      `;
    } else if (["ENFP", "ESFP", "ESTP", "ENTP"].includes(mbti)) {
      artist = "리히텐슈타인";
      artistMbti = "ENFP, ESFP, ESTP, ENTP";
      description = `
        <h3>설명</h3>
        <p>당신은 일상 속에서 특별함과 재미를 발견하는 눈을 가진 사람으로, 다양한 분야의 최신 트렌드와 새로운 경험을 빠르게 받아들이고 자신의 삶에 반영합니다.</p>
        <p>창의적이고 유연한 사고방식으로 문제를 해결하며, 실용적인 접근과 혁신적인 아이디어를 동시에 추구합니다.</p>
        <p>사람들과의 교류를 즐기며, 협업을 통해 더 큰 시너지를 창출하는 것을 중요하게 여깁니다. 예술과 문화, 새로운 기술에 관심이 높아 이를 통해 영감을 얻고, 일상적인 사물과 아이디어에 신선한 시각을 제시합니다.</p>
        <p>호기심이 많고 다양한 활동을 즐겨, 다재다능하며 주변에 긍정적인 영향을 미칩니다.</p>
        <h3>장단점</h3>
        <ul>
          <li><strong>긍정적인 영향:</strong> 당신의 밝고 열린 태도는 주변 사람들에게 활력을 주고, 새로운 아이디어와 관점을 적극적으로 공유하며 함께 배우고 성장하는 분위기를 만듭니다. 자유롭고 긍정적인 에너지로 사람들과의 교류를 활발하게 이끌어냅니다.</li>
          <li><strong>주의할 점:</strong> 종종 새로운 경험이나 가능성에 집중하다 보면 세부 사항이나 깊이 있는 관계를 소홀히 할 수 있습니다. 중요한 일에는 좀 더 계획적으로 접근하고 집중하는 노력이 필요합니다. 또한 주변 사람들의 감정과 필요를 놓치지 않고 잘 살펴보려는 마음가짐이 도움이 될 것입니다.</li>
        </ul>
        <h3>찰떡궁합 조합</h3>
        <p><strong>고흐</strong></p>
        <p>리히텐 유형은 유연하고 활발한 성향으로 고흐 유형에게 자극과 영감을 주며, 고흐 유형의 깊은 감성은 리히텐 유형에게 안정감을 제공합니다. 리히텐 유형의 다재다능함과 고흐 유형의 독창성이 만나 창의적인 결과를 만들어낼 수 있는 최상의 조합입니다.</p>
        <h3>상극 조합</h3>
        <p><strong>르누아르</strong></p>
        <p>리히텐 유형은 자유롭고 자율적인 성향이 강해, 타인과의 조화를 중시하는 르누아르 유형과 갈등을 겪을 수 있습니다. 리히텐 유형이 변화를 추구하는 동안, 르누아르 유형은 안정과 협력을 중시하여 양측이 서로의 행동 방식을 이해하지 못할 수 있습니다.</p>
      `;
    } else {
      artist = "알 수 없음";
      artistMbti = mbti;
      description = "<p>죄송합니다. 해당하는 화가를 찾지 못했습니다.</p>";
    }

    setResult({ artist, mbti: artistMbti, description });
  };

  return (
    <div className="App">
      <h1>나와 닮은 화가는?</h1>
      {!result ? (
        <div>
          {questions.map((q, index) => (
            <div key={index} className="question">
              <p>
                <strong>
                  {index + 1}. {q.question}
                </strong>
              </p>
              <label>
                <input
                  type="radio"
                  name={`q${index}`}
                  value="A"
                  onChange={(e) => handleOptionChange(e, index)}
                />
                {q.options.A}
              </label>
              <label>
                <input
                  type="radio"
                  name={`q${index}`}
                  value="B"
                  onChange={(e) => handleOptionChange(e, index)}
                />
                {q.options.B}
              </label>
            </div>
          ))}
          <button onClick={calculateResult}>제출하기</button>
        </div>
      ) : (
        <div className="result">
          <h2>{result.artist}</h2>
          {/* <p>
            <strong>해당 MBTI 유형:</strong> {result.mbti}
          </p> */}
          <div
            className="description"
            dangerouslySetInnerHTML={{ __html: result.description }}
          ></div>
          <br />
          <a
            href="https://docs.google.com/forms/d/e/1FAIpQLSfV-hno0eqcbloW4V2VmZ3SLh3ai5jmfgTrkt_e0S3Uvnptng/viewform?usp=sf_link"
            target="_blank"
            rel="noopener noreferrer"
          >
            꼭 클릭하여 설문 조사에 참여해주세요!
          </a>
        </div>
      )}
    </div>
  );
}

export default App;
